<div class="product-detail-page" *ngIf="product">
  <!-- Versión desktop (pantallas > 1024px) -->
  <div class="desktop-version">
    <section class="section-1">
      <div class="image-left">
        <img
          [src]="product.ImageSection1Left"
          [alt]="product.name + ' left section 1'"
          draggable="false"
        />
      </div>
      <div class="image-right">
        <img
          [src]="product.ImageSection1Right"
          [alt]="product.name + ' right section 1'"
          draggable="false"
        />
        <!-- Barra de información superpuesta -->
        <div class="product-info-bar">
          <div class="product-header">
            <div class="product-title-price">
              <h1 class="product-title">{{ product.name }}</h1>
              <p class="product-price">{{ product.price }}</p>
            </div>
            <div class="product-logo">
              <img src="/blackLogo.png" alt="VÜS Logo" draggable="false" />
            </div>
          </div>

          <div class="size-selection">
            <p class="size-label">Size</p>
            <div class="size-buttons">
              <button
                *ngFor="let size of product.sizes"
                [class.selected]="selectedSize() === size"
                (click)="onSizeSelect(size)"
                class="size-button"
              >
                {{ size }}
              </button>
            </div>
          </div>

          <div class="shipping-info">
            <p>
              Envíos todo el país. Se coordina al momento de realizar el pedido. Por la zona a cargo
              nuestro, envíos al interior o demás mediante DAC abonados por el cliente al momento de
              recibir el pedido.
            </p>
          </div>

          <button class="consultar-button" (click)="onConsultar()">CONSULTAR</button>

          <div class="payment-info">
            <p>Métodos de pago: Transferencia bancaria o efectivo en la entrega.</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section-2">
      <div class="image-left">
        <img
          [src]="product.ImageSection2Left"
          [alt]="product.name + ' left section 2'"
          draggable="false"
        />
      </div>
      <div class="image-right">
        <img
          [src]="product.ImageSection2Right"
          [alt]="product.name + ' right section 2'"
          draggable="false"
        />
      </div>
    </section>

    <app-footer></app-footer>
  </div>

  <!-- Versión móvil (pantallas < 1024px) -->
  <div class="mobile-version">
    <!-- Sección 1: Carrusel de imágenes altas -->
    <section class="mobile-section-1">
      <div
        class="carousel-container"
        (touchstart)="onTouchStart($event)"
        (touchend)="onTouchEnd($event)"
      >
        <div class="carousel-image">
          <img [src]="carousel1Images[carousel1Index()]" [alt]="product.name" draggable="false" />
        </div>
        <div class="carousel-dots" *ngIf="carousel1Images.length > 1">
          <span
            *ngFor="let dot of carousel1Images; let i = index"
            [class.active]="carousel1Index() === i"
            class="dot"
            (click)="carousel1Index.set(i)"
          >
          </span>
        </div>
      </div>
    </section>

    <!-- Sección 2: Información del producto -->
    <section class="mobile-section-2">
      <div class="mobile-product-info">
        <div class="product-header">
          <div class="product-title-price">
            <h1 class="product-title">{{ product.name }}</h1>
            <p class="product-price">{{ product.price }}</p>
          </div>
          <div class="product-logo">
            <img src="/blackLogo.png" alt="VÜS Logo" draggable="false" />
          </div>
        </div>

        <div class="size-selection">
          <p class="size-label">Size</p>
          <div class="size-buttons">
            <button
              *ngFor="let size of product.sizes"
              [class.selected]="selectedSize() === size"
              (click)="onSizeSelect(size)"
              class="size-button"
            >
              {{ size }}
            </button>
          </div>
        </div>

        <div class="shipping-info">
          <p>
            Envíos todo el país. Se coordina al momento de realizar el pedido. Por la zona a cargo
            nuestro, envíos al interior o demás mediante DAC abonados por el cliente al momento de
            recibir el pedido.
          </p>
        </div>

        <button class="consultar-button" (click)="onConsultar()">CONSULTAR</button>

        <div class="payment-info">
          <p>Métodos de pago: Transferencia bancaria o efectivo en la entrega.</p>
        </div>
      </div>
    </section>

    <!-- Sección 3: Carrusel de imágenes anchas -->
    <section class="mobile-section-3">
      <div
        class="carousel-container"
        (touchstart)="onTouchStart($event)"
        (touchend)="onTouchEnd($event)"
      >
        <div class="carousel-image">
          <img [src]="carousel3Images[carousel3Index()]" [alt]="product.name" draggable="false" />
        </div>
        <div class="carousel-dots" *ngIf="carousel3Images.length > 1">
          <span
            *ngFor="let dot of carousel3Images; let i = index"
            [class.active]="carousel3Index() === i"
            class="dot"
            (click)="carousel3Index.set(i)"
          >
          </span>
        </div>
      </div>
    </section>

    <!-- Footer Móvil -->
    <app-footer></app-footer>
  </div>
</div>

<!-- Mensaje cuando no se encuentra el producto -->
<div class="product-not-found" *ngIf="!product">
  <h1>Producto no encontrado</h1>
  <p>El producto "{{ productName }}" no existe.</p>
</div>
